<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Playground</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>AI Image Generation Playground</h1>

    <div class="container">
        <section id="api-key-section">
            <h2>OpenAI API Key</h2>
            <label for="api-key">Enter your API Key:</label>
            <input type="password" id="api-key" placeholder="sk-...">
            <button id="save-key-button">Save Key</button>
            <p id="key-status">Status: No key saved.</p>
            <small>Your key is stored locally in your browser's localStorage and is not sent anywhere else.</small>
        </section>

        <section id="generation-controls">
            <h2>Generate Image</h2>

            <label for="model">Model:</label>
            <select id="model">
                <option value="gpt-image-1" selected>gpt-image-1</option>
                <option value="dall-e-3">dall-e-3</option>
                <option value="dall-e-2">dall-e-2</option>
            </select>

            <label for="prompt">Prompt:</label>
            <textarea id="prompt" rows="4" placeholder="Enter prompt... (max length varies by model)"></textarea>

            <div class="options">
                <div class="option-item">
                    <label for="size">Size:</label>
                    <select id="size">
                        <!-- Options populated by JS -->
                    </select>
                    <p class="option-description">The dimensions of the generated image(s). Available sizes vary by model.</p>
                </div>
                <div class="option-item">
                    <label for="quality">Quality:</label>
                    <select id="quality">
                        <!-- Options populated by JS -->
                    </select>
                     <p class="option-description">The quality level of the image. 'hd' (DALL-E 3) offers enhanced detail but may cost more. Not applicable to DALL-E 2.</p>
               </div>
                 <div class="option-item">
                    <label for="n">Number of Images (n):</label>
                    <select id="n">
                        <!-- Options populated by JS -->
                    </select>
                    <p class="option-description">How many images to generate (1-10). DALL-E 3 only supports 1.</p>
                 </div>

                <!-- DALL-E 3 Specific Options -->
                <div id="dalle3-options" class="model-specific-options option-item" style="display: none;">
                    <label for="style">Style:</label>
                    <select id="style">
                        <option value="vivid" selected>Vivid</option>
                        <option value="natural">Natural</option>
                    </select>
                    <p class="option-description">DALL-E 3 only. 'vivid' for hyper-real/dramatic, 'natural' for less hyper-real.</p>
                </div>

                <!-- GPT-Image-1 Specific Options -->
                <div id="gpt-image-1-options" class="model-specific-options" style="display: none;">
                     <div class="option-item">
                        <label for="background">Background:</label>
                        <select id="background">
                            <option value="auto" selected>Auto</option>
                            <option value="transparent">Transparent</option>
                            <option value="opaque">Opaque</option>
                        </select>
                        <p class="option-description">gpt-image-1 only. Set background transparency. 'transparent' requires PNG/WEBP format.</p>
                    </div>
                     <div class="option-item">
                        <label for="moderation">Moderation:</label>
                        <select id="moderation">
                            <option value="auto" selected>Auto</option>
                            <option value="low">Low</option>
                        </select>
                        <p class="option-description">gpt-image-1 only. Content moderation level ('low' for less restrictive).</p>
                    </div>
                     <div class="option-item">
                        <label for="output_format">Output Format:</label>
                        <select id="output_format">
                            <option value="png" selected>PNG</option>
                            <option value="jpeg">JPEG</option>
                            <option value="webp">WEBP</option>
                        </select>
                        <p class="option-description">gpt-image-1 only. Image format (PNG, JPEG, WEBP).</p>
                    </div>
                     <div class="option-item">
                        <label for="output_compression">Output Compression (0-100):</label>
                        <input type="number" id="output_compression" value="100" min="0" max="100" step="1">
                        <p class="option-description">gpt-image-1 only. Compression level (0-100) for JPEG/WEBP formats.</p>
                        <!-- <small>Only for JPEG/WEBP</small> --> <!-- Replaced by description -->
                    </div>
                </div>
            </div>

            <button id="generate-button">Generate Image</button>
        </section>

        <section id="results-section">
            <h2>Result</h2>
            <div id="status-message"></div>
            <div id="image-result">
                <!-- Generated image will be displayed here -->
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
